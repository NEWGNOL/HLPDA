{"version":3,"sources":["uni-app:///main.js","webpack:///D:/所有公司工作资料/金蝶/开发项目/KDPDA/KDPDA/pages/proreport/proreport.vue?c12c","webpack:///D:/所有公司工作资料/金蝶/开发项目/KDPDA/KDPDA/pages/proreport/proreport.vue?ee22","webpack:///D:/所有公司工作资料/金蝶/开发项目/KDPDA/KDPDA/pages/proreport/proreport.vue?d5df","webpack:///D:/所有公司工作资料/金蝶/开发项目/KDPDA/KDPDA/pages/proreport/proreport.vue?62f3","uni-app:///pages/proreport/proreport.vue","webpack:///D:/所有公司工作资料/金蝶/开发项目/KDPDA/KDPDA/pages/proreport/proreport.vue?7aa6","webpack:///D:/所有公司工作资料/金蝶/开发项目/KDPDA/KDPDA/pages/proreport/proreport.vue?635c"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACa;;;AAGrE;AACgN;AAChN,gBAAgB,4MAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAAu0B,CAAgB,8wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiJ31B;AACA;AACA,kBADA;AAEA,oBAFA;AAGA,0CAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,yBADA;AAEA,qBAFA;AAGA,yBAHA;AAIA,yBAJA;AAKA,0BALA;AAMA,4BANA;AAOA,6BAPA;AAQA,yBARA;AASA,uCATA;AAUA,mCAVA;AAWA,uCAXA;AAYA;AACA,oBADA,GAZA;;AAeA,8BAfA;AAgBA,oCAhBA;AAiBA,gCAjBA;AAkBA,yBAlBA;AAmBA,sBAnBA;AAoBA,6BApBA;AAqBA,yBArBA;AAsBA,oBAtBA;AAuBA,wBAvBA;AAwBA,sBAxBA;AAyBA,uBAzBA;AA0BA,qBA1BA;AA2BA,uBA3BA;AA4BA,4BA5BA;AA6BA,8BA7BA;AA8BA,gCA9BA;AA+BA,wBA/BA;AAgCA,cAhCA;AAiCA,kBAjCA;;AAmCA,GA1CA;AA2CA,QA3CA,oBA2CA;AACA;AACA;AACA;AACA;AACA,GAhDA;AAiDA,UAjDA,sBAiDA;AACA;AACA,GAnDA;AAoDA,0BApDA,sCAoDA;AACA;AACA,GAtDA;AAuDA;AACA;AACA;AACA;AACA,oDAFA,CAEA;AACA,wEAHA,CAGA;AACA;AACA,4BADA;;AAGA;AACA;AACA;;AAEA;AACA,4DAZA,CAYA;AACA,8CAbA,CAaA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KA1BA;AA2BA;AACA;AACA,kDADA,CACA;AACA,KA9BA;AA+BA;AACA;AACA;AACA,sBADA;AAEA,8BAFA;;AAIA;AACA,KAtCA;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,EAIA,IAJA;AAKA;AACA;AACA,KAtDA;AAuDA;AACA;AACA;AACA,KA1DA;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApEA;AAqEA;AACA;AACA;AACA;AACA,KAzEA;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,qEAFA;AAGA;AACA;AACA;AACA,mDADA;AAEA,8BAFA;AAGA;AACA,0CADA;AAEA,oDAFA;AAGA;AACA,6CADA;AAEA,6BAFA;AAGA,2BAHA,EAHA,EAHA;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uDADA;AAEA,kCAFA;AAGA;AACA,qDADA;AAEA,wDAFA;AAGA,kCAHA;AAIA,kCAJA;AAKA,oCALA;AAMA;AACA,mDADA,EANA,EAHA;;;AAaA;AACA;AACA,gCADA;AAEA;AACA;AACA,8CADA,EACA;AACA;AACA;AACA,uCADA;AAEA;AACA;AACA;AACA,gCADA,CACA,kBADA;AAEA,2BAFA;AAGA,qBA3BA;AA4BA;AACA;AACA;AACA,qBA/BA;;AAiCA,iBA9DA;AA+DA;AACA;AACA;AACA,iBAlEA;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBA3EA;;AA6EA;AACA,WAnFA;;AAqFA;AACA,KAvKA;AAwKA;AACA;AACA;AACA,KA3KA;AA4KA;AACA;AACA;AACA,KA/KA;AAgLA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,KA/LA;AAgMA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA/MA;AAgNA;AACA;AACA;AACA,KAnNA;AAoNA;AACA;AACA;AACA,KAvNA;AAwNA;AACA;AACA,KA1NA;AA2NA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,2CADA;AAEA,4CAFA;AAGA;AACA,sCADA;AAEA,oDAFA;AAGA,yDAHA;AAIA,yBAJA;AAKA,2DALA;AAMA,wDANA;AAOA,qBAPA;AAQA,mBARA,EAHA,EAHA;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SApCA;AAqCA;AACA;AACA;AACA,SAxCA;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA,SA/CA;;AAiDA,KArRA;AAsRA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,gDADA;AAEA,4CAFA;AAGA;AACA,4CADA,EAHA,EAHA;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SApBA;AAqBA;AACA;AACA;AACA,SAxBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA,SA/BA;;AAiCA,KAzTA;AA0TA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,6CADA;AAEA,4CAFA;AAGA;AACA,kDADA,EAHA,EAHA;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA;AAoBA;AACA;AACA;AACA,SAvBA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA,SA9BA;;AAgCA,KA5VA;AA6VA;AACA;AACA;AACA,wBADA;AAEA,kBAFA;;AAIA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,yCADA;AAEA,4CAFA;AAGA,sBAHA;AAIA,wBAJA;AAKA;AACA,qCADA;AAEA,oDAFA;AAGA;AACA,eAJA,EALA,EAHA;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAzBA;AA0BA;AACA;AACA;AACA,SA7BA;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArCA;;AAuCA,KA1YA;AA2YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,oBAFA;;AAIA;AACA,6CADA;AAEA,wBAFA;AAGA;AACA,uCADA;AAEA,8CAFA;AAGA;AACA,wCADA;AAEA,2CAFA;AAGA,kDAHA;AAIA,8CAJA;AAKA,oCALA;AAMA,sDANA;AAOA,mCAPA;AAQA,uBARA;AASA,qBATA,EAHA,EAHA;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA3CA;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA,WAlDA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA3DA;;AA6DA;AACA,KAjeA;AAkeA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,0CADA;AAEA,4CAFA;AAGA;AACA,qBADA;AAEA,kBAFA;AAGA,uBAHA;AAIA,mBAJA,EAHA,EAHA;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;;AAGA;AACA,SA/BA;AAgCA;AACA;AACA;AACA,SAnCA;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA,SA1CA;;AA4CA,KAhhBA;AAihBA;AACA,kBAlhBA,4BAkhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,oBAFA;;AAIA;AACA,6CADA;AAEA,wBAFA;AAGA;AACA,6CADA;AAEA,8CAFA;AAGA;AACA,wCADA;AAEA,2CAFA;AAGA,uBAHA;AAIA,qBAJA,EAHA,EAHA;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WArCA;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA,WA5CA;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WArDA;;AAuDA;AACA,KA1mBA;AA2mBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,oBAFA;;AAIA;AACA,6CADA;AAEA,wBAFA;AAGA;AACA,+CADA;AAEA,8CAFA;AAGA;AACA,wCADA;AAEA,uBAFA;AAGA,qBAHA,EAHA,EAHA;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAnCA;AAoCA;AACA;AACA;AACA;AACA;AACA,WAzCA;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAlDA;;AAoDA;AACA,KA9qBA;AA+qBA;AACA;AACA;AACA,KAlrBA;AAmrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;;AAGA,KA7rBA;AA8rBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBADA;AAEA,6DAFA;AAGA;AACA;AACA;AACA,iDADA;AAEA,4BAFA;AAGA;AACA,wCADA;AAEA,kDAFA;AAGA;AACA,0CADA;AAEA,2BAFA;AAGA,yBAHA,EAHA,EAHA;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA;AACA;AACA;AACA;AACA,eArCA;AAsCA;AACA;AACA;AACA,eAzCA;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA,eAhDA;;AAkDA;AACA,SAxDA;;AA0DA,KAjwBA;AAkwBA;AACA;AACA;AACA,2CADA;AAEA,sBAFA;AAGA;AACA,4CADA;AAEA,4CAFA;AAGA;AACA,sCADA,EAHA,EAHA;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAnBA;AAoBA;AACA;AACA;AACA,SAvBA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA,SA9BA;;AAgCA,KApyBA;AAqyBA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,oBAFA;;AAIA;AACA,6CADA;AAEA,wBAFA;AAGA;AACA,8CADA;AAEA,8CAFA;AAGA;AACA,2BADA,EAHA,EAHA;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAxBA;AAyBA;AACA;AACA;AACA;AACA;AACA,WA9BA;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAvCA;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA71BA;AA81BA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA,+CADA;AAEA,0BAFA;AAGA;AACA,gDADA;AAEA,gDAFA;AAGA;AACA,0CADA,EAHA,EAHA;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAtBA;AAuBA;AACA;AACA;AACA;AACA,aA3BA;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aApCA;;AAsCA;AACA;AACA,KA/4BA;AAg5BA;AACA;AACA;AACA,wBADA;;AAGA;AACA;AACA,+BADA,GACA,wBAFA;;AAIA;AACA,KA15BA;AA25BA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAn6BA;AAo6BA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA,KA76BA;AA86BA;AACA,oBA/6BA,4BA+6BA,CA/6BA,EA+6BA;AACA;AACA,KAj7BA;AAk7BA;AACA;AACA;AACA,KAr7BA,EAvDA,E;;;AA++BA;2BACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDADA,CACA;AACA,6CAFA,CAEA;AACA,gDAHA,CAGA;AACA,sCAJA,CAIA;AACA,iDALA,CAKA;AACA,oCANA,CAMA;AACA,0CAPA,CAOA;AACA;AACA,C;;;;;;;;;;;;;AChqCA;AAAA;AAAA;AAAA;AAAorC,CAAgB,ikCAAG,EAAC,C;;;;;;;;;;;ACAxsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/proreport/proreport.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/proreport/proreport.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./proreport.vue?vue&type=template&id=19ca734a&\"\nvar renderjs\nimport script from \"./proreport.vue?vue&type=script&lang=js&\"\nexport * from \"./proreport.vue?vue&type=script&lang=js&\"\nimport style0 from \"./proreport.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/proreport/proreport.vue\"\nexport default component.exports","export * from \"-!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./proreport.vue?vue&type=template&id=19ca734a&\"","var components\ntry {\n  components = {\n    uniSearchBar: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-search-bar/uni-search-bar\" */ \"@/components/uni-search-bar/uni-search-bar.vue\"\n      )\n    },\n    billstatus: function() {\n      return import(\n        /* webpackChunkName: \"components/billstatus/billstatus\" */ \"@/components/billstatus/billstatus.vue\"\n      )\n    },\n    uniList: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-list/uni-list\" */ \"@/components/uni-list/uni-list.vue\"\n      )\n    },\n    uniListItem: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-list-item/uni-list-item\" */ \"@/components/uni-list-item/uni-list-item.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.InfoListData, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = Math.round((item.FSumQty / item.FICMOQty) * 100, 0)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.InfoListData, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g1 = Math.round((item.FSumQty / item.FICMOQty) * 100, 0)\n    return {\n      $orig: $orig,\n      g1: g1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./proreport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./proreport.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"proreportview\" v-show=\"TabSelectedIndex == 0\" @touchstart='TouchStart' @touchend='TouchEnd'>\r\n\t\t\t<uni-search-bar class=\"search\" cancelButton=\"none\" v-model=\"SearchValue\" @input=\"ValueChanged\">\r\n\t\t\t</uni-search-bar>\r\n\t\t\t<billstatus class=\"billstatus\" :candidates=\"StatusArray\" v-model=\"SelectStatus\" @input=\"ShowProReportSum()\">\r\n\t\t\t</billstatus>\r\n\t\t\t<scroll-view class=\"sumscrollview\" scroll-y=\"true\">\r\n\t\t\t\t<uni-list>\r\n\t\t\t\t\t<uni-list-item v-for=\"(item,index) in SummaryListData\" :key=\"index\" :title=\"'车间名称：'+ item.FDeptName + '\\n' + '班组名称：' + item.FTeamName\r\n\t\t\t       + '\\n' + '制单人：' + item.FBillerName + '\\n'+ '制单日期：' + item.FDate + '\\n' + '单据编号：' + item.FBillNo\"\r\n\t\t\t\t\t\t:note=\"'单据状态：' + item.FStatus\" clickable :isshowicon=\"item.FIsScanned\"\r\n\t\t\t\t\t\tv-on:click=\"GetProReportByList(item)\">\r\n\t\t\t\t\t</uni-list-item>\r\n\t\t\t\t</uni-list>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- @TouchStart=\"ItemTouchStart\" @TouchEnd=\"ItemTouchEnd\" @LongPress=\"ItemLongPress(item)\" -->\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<view class=\"proreportview\" v-show=\"TabSelectedIndex == 1\" @touchstart='TouchStart' @touchend='TouchEnd'>\r\n\t\t\t<button class=\"addproreport\" v-on:click=\"AddProReport()\">新增</button>\r\n\t\t\t<button class=\"auditproreport\" v-on:click=\"AuditProReport()\">审核</button>\r\n\t\t\t<button class=\"unauditproreport\" v-on:click=\"UnAuditProReport()\">反审</button>\r\n\t\t\t<button class=\"deletebill\" v-on:click=\"DeleteProreportBill()\">删除</button>\r\n\r\n\t\t\t<view class=\"billhead\" v-show=\"IsBillHeadVisible\">\r\n\t\t\t\t<text class=\"title\">单据编号：</text>\r\n\t\t\t\t<text class=\"billnoempty\"\r\n\t\t\t\t\tv-bind:class=\"{billnofull : ProReportBillNo != '空'}\">{{ProReportBillNo}}</text>\r\n\t\t\t\t<view class=\"dataline\"></view>\r\n\r\n\t\t\t\t<text class=\"title\">车间名称：</text>\r\n\t\t\t\t<navigator url=\"/pages/basic/workshopquery\" hover-class=\"navigator-hover\">\r\n\t\t\t\t\t<view class=\"data\">{{SelectWorkShopArray[1]}}</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<view class=\"dataline\"></view>\r\n\r\n\t\t\t\t<text class=\"title\">班组名称：</text>\r\n\t\t\t\t<navigator url=\"/pages/basic/teamquery\" hover-class=\"navigator-hover\">\r\n\t\t\t\t\t<view class=\"data\">{{SelectTeamArray[1]}}</view>\r\n\t\t\t\t</navigator>\r\n\t\t\t\t<view class=\"dataline\"></view>\r\n\r\n\t\t\t\t<text class=\"title\">完工日期：</text>\r\n\t\t\t\t<picker mode=\"date\" :value=\"FinishDate\" :start=\"StartDate\" :end=\"EndDate\" @change=\"FinishDateChange\">\r\n\t\t\t\t\t<view class=\"data\">{{FinishDate}}</view>\r\n\t\t\t\t</picker>\r\n\t\t\t\t<view class=\"dataline\"></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<scroll-view class=\"unselectinfoscrollview\" v-bind:class=\"{selectinfoscrollview : !IsBillHeadVisible}\"\r\n\t\t\t\tscroll-y=\"true\" v-show=\"IsMotorDepartment\">\r\n\t\t\t\t<uni-list>\r\n\t\t\t\t\t<FillQty v-for=\"(item,index) in InfoListData\" :key=\"index\" :title=\"item.FNumber + '/' + item.FModel\r\n\t\t\t\t\t + '\\n' + '源单编号：' + item.FSrcBillNo + '\\n' + '批号：' + item.FGMPBatchNo + '\\n' + '进度：' + item.FSumQty\r\n\t\t\t\t\t + '/' + item.FICMOQty + '     ' + item.FSumQty/item.FOutPackPreQty + '件'\" :rownumber=\"index + 1\"\r\n\t\t\t\t\t isshowprogress v-bind:percent=\"Math.round((item.FSumQty / item.FICMOQty) * 100, 0)\" clickable\r\n\t\t\t\t\t v-on:click=\"GetProReportInfoExpandByFillQty(item)\" @ButtonClick=\"OpenQtyPopupWindow()\">\r\n\t\t\t\t\t</FillQty>\r\n\t\t\t\t</uni-list>\r\n\t\t\t</scroll-view>\r\n\t\t\t\r\n\t\t\t<scroll-view class=\"unselectinfoscrollview\" v-bind:class=\"{selectinfoscrollview : !IsBillHeadVisible}\"\r\n\t\t\t\tscroll-y=\"true\" v-show=\"!IsMotorDepartment\">\r\n\t\t\t\t<uni-list>\r\n\t\t\t\t\t<uni-list-item v-for=\"(item,index) in InfoListData\" :key=\"index\" :title=\"item.FNumber + '/' + item.FModel\r\n\t\t\t\t\t + '\\n' + '源单编号：' + item.FSrcBillNo + '\\n' + '批号：' + item.FGMPBatchNo + '\\n' + '进度：' + item.FSumQty\r\n\t\t\t\t\t + '/' + item.FICMOQty + '     ' + item.FSumQty/item.FOutPackPreQty + '件'\" isshowprogress\r\n\t\t\t\t\t v-bind:percent=\"Math.round((item.FSumQty / item.FICMOQty) * 100, 0)\" clickable\r\n\t\t\t\t\t v-on:click=\"GetProReportInfoExpand(item)\">\r\n\t\t\t\t\t</uni-list-item>\r\n\t\t\t\t</uni-list>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\r\n\t\t<view class=\"proreportview\" v-show=\"TabSelectedIndex == 2\" @touchstart='TouchStart' @touchend='TouchEnd'>\r\n\t\t\t<text class=\"scanned\">已扫描条码：</text>\r\n\t\t\t<text class=\"queryall\" clickable v-on:click=\"GetProReportDetail()\">查看全部</text>\r\n\r\n\t\t\t<scroll-view class=\"detailscrollview\" scroll-y=\"true\">\r\n\t\t\t\t<text class=\"detailtitle\">物料编码：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FNumber : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">物料名称：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FName : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">标签类型：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FBarCodeType : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">订单号：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{(this.ProreportInfoItem != null && this.ProreportInfoItem.FSOBillNo != null) ? this.ProreportInfoItem.FSOBillNo : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">批号：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{(this.ProreportInfoItem != null && this.ProreportInfoItem.FGMPBatchNo != null) ? this.ProreportInfoItem.FGMPBatchNo : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">计划生产数量：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{(this.ProreportInfoItem != null && this.ProreportInfoItem.FAuxQty != null) ? this.ProreportInfoItem.FAuxQty : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">计划开工日期：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{(this.ProreportInfoItem != null && this.ProreportInfoItem.FPlanCommitDate != null) ? this.ProreportInfoItem.FPlanCommitDate : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">实际完工日期：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{(this.ProreportInfoItem != null && this.ProreportInfoItem.FFinishDate != null) ? this.ProreportInfoItem.FFinishDate : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">生产预测单号：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{(this.ProreportInfoItem != null && this.ProreportInfoItem.FPPOrderBillNo != null) ? this.ProreportInfoItem.FPPOrderBillNo : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">班组代码：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FTeamNumber : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">班组名称：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FTeamName : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">车间代码：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FDeptNumber : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">车间名称：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FDeptName : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">计量单位代码：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FUnitNumber : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">计量单位名称：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FUnitName : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">箱数：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FInPackPreQty : '空'}}</text>\r\n\t\t\t\t<text class=\"detailtitle\">每箱数量：</text>\r\n\t\t\t\t<text class=\"detaildata\">{{this.ProreportInfoItem != null ? this.ProreportInfoItem.FOutPackPreQty : '空'}}</text>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<view class=\"tabbackground\">\r\n\t\t\t<text class=\"tableft\" v-bind:class=\"{selecttab : TabSelectedIndex == 0}\" v-on:click=\"SwitchTab(0)\">汇总</text>\r\n\t\t\t<view class=\"tableftline\" v-bind:class=\"{selecttabline : TabSelectedIndex == 0}\"></view>\r\n\t\t\t<text class=\"tabmiddle\" v-bind:class=\"{selecttab : TabSelectedIndex == 1}\"\r\n\t\t\t\tv-on:click=\"SwitchTab(1)\">单据</text>\r\n\t\t\t<view class=\"tabmiddleline\" v-bind:class=\"{selecttabline : TabSelectedIndex == 1}\"></view>\r\n\t\t\t<text class=\"tabright\" v-bind:class=\"{selecttab : TabSelectedIndex == 2}\"\r\n\t\t\t\tv-on:click=\"SwitchTab(2)\">明细</text>\r\n\t\t\t<view class=\"tabrightline\" v-bind:class=\"{selecttabline : TabSelectedIndex == 2}\"></view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<OutStorageKeyboard class=\"keyboard\" @confirm=\"CloseQtyPopupWindow\" @exit=\"CloseQtyPopupWindowDirect\"\r\n\t\t\tv-show=\"IsOpenDigitKeyboard\"></OutStorageKeyboard>\r\n\t</view>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport Config from '../../common/config.js';\r\n\timport FillQty from '../../components/fill-qty/fill-qty.vue';\r\n\timport OutStorageKeyboard from '../../components/outstorage-keyboard/outstorage-keyboard.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tConfig,\r\n\t\t\tFillQty,\r\n\t\t\tOutStorageKeyboard\t\t\t\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tTabSelectedIndex: 1,\r\n\t\t\t\tSearchValue: '',\r\n\t\t\t\tSelectStatus: '未审核',\r\n\t\t\t\tProReportInterId: 0,\r\n\t\t\t\tProReportBillNo: '空',\r\n\t\t\t\tProReportSrcInterId: 0,\t\t\t\t\r\n\t\t\t\tIsBillHeadVisible: true,\r\n\t\t\t\tIsRequesting: false,\r\n\t\t\t\tSelectWorkShopArray: [0, '请选择车间'],\r\n\t\t\t\tSelectTeamArray: [0, '请选择班组'],\r\n\t\t\t\tStatusArray: ['未审核', '已审核', '全部'],\r\n\t\t\t\tFinishDate: DateFormat({\r\n\t\t\t\t\tformat: true\r\n\t\t\t\t}),\r\n\t\t\t\tItemTouchStartDate: null,\r\n\t\t\t\tStartDate: DateFormat('start'),\r\n\t\t\t\tEndDate: DateFormat('end'),\r\n\t\t\t\tSummaryListData: [],\r\n\t\t\t\tInfoListData: [],\t\t\t\t\r\n\t\t\t\tProreportInfoItem: null,\r\n\t\t\t\tProreportItem: null,\r\n\t\t\t\tTouchStartX: 0,\r\n\t\t\t\tItemTouchStartX: 0,\r\n\t\t\t\tLongPressTime: 2,\r\n\t\t\t\tSlidingValue: 100,\r\n\t\t\t\tAnimation: null,\r\n\t\t\t\tAnimationData: [],\r\n\t\t\t\tIsStopAnimation: false,\r\n\t\t\t\tIsMotorDepartment: false,\r\n\t\t\t\tIsOpenDigitKeyboard: false,\r\n\t\t\t\tUserDepartment: '',\r\n\t\t\t\tMain: '',\r\n\t\t\t\tReceiver: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t//this.InitAnimation();\r\n\t\t\tthis.AddListener();\r\n\t\t\tthis.GetDepartmentByUserId();\r\n\t\t\tthis.GetGblSettingBySignalKey();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tthis.RemoveListener();\r\n\t\t},\r\n\t\tonNavigationBarButtonTap() {\r\n\t\t\tthis.SwitchBillHeadVisible();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//添加广播监听\r\n\t\t\tAddListener: function() {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tvar main = plus.android.runtimeMainActivity(); //获取activity    \r\n\t\t\t\tvar context = plus.android.importClass('android.content.Context'); //上下文    \r\n\t\t\t\tvar receiver = plus.android.implements('io.dcloud.feature.internal.reflect.BroadcastReceiver', {\r\n\t\t\t\t\tonReceive: doReceive\r\n\t\t\t\t});\r\n\t\t\t\tvar IntentFilter = plus.android.importClass('android.content.IntentFilter');\r\n\t\t\t\tvar Intent = plus.android.importClass('android.content.Intent');\r\n\t\t\t\tvar filter = new IntentFilter();\r\n\r\n\t\t\t\t//针对优博讯安卓PDA-i6300添加监听，其它优博讯的型号应该一样或类似\r\n\t\t\t\tfilter.addAction(\"android.intent.ACTION_DECODE_DATA\"); //监听扫描 \t\t\r\n\t\t\t\tmain.registerReceiver(receiver, filter); //注册监听 \t\r\n\r\n\t\t\t\t//记录窗体和接收者用于关闭窗体的同时也关闭监听\t\r\n\t\t\t\tme.Main = main;\r\n\t\t\t\tme.Receiver = receiver;\r\n\r\n\t\t\t\tfunction doReceive(context, intent) {\r\n\t\t\t\t\tplus.android.importClass(intent);\r\n\t\t\t\t\tvar Barcode = intent.getStringExtra(\"barcode_string\");\r\n\t\t\t\t\tme.ScanBarCode(Barcode);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//移除广播监听\r\n\t\t\tRemoveListener: function() {\r\n\t\t\t\tthis.Main.unregisterReceiver(this.Receiver); //取消监听\r\n\t\t\t},\r\n\t\t\t//初始化动画\r\n\t\t\tInitAnimation: function() {\r\n\t\t\t\tvar animation = uni.createAnimation({\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\t})\r\n\t\t\t\tthis.Animation = animation;\r\n\t\t\t},\r\n\t\t\t//开启动画\r\n\t\t\tStartAnimation: function() {\r\n\t\t\t\tif (!this.IsStopAnimation) {\r\n\t\t\t\t\t// 定义动画内容\r\n\t\t\t\t\tthis.Animation.translateX(80).step();\r\n\t\t\t\t\t// 导出动画数据传递给data层\r\n\t\t\t\t\tthis.AnimationData = this.Animation.export();\r\n\t\t\t\t\t//三秒内不滚动时触发\r\n\t\t\t\t\tvar timer = setTimeout(() => {\r\n\t\t\t\t\t\tthis.IsStopAnimation = false;\r\n\t\t\t\t\t\tthis.Animation.translateX(0).step()\r\n\t\t\t\t\t\tthis.AnimationData = this.Animation.export()\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\tthis.IsStopAnimation = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取手指滑动页面的起点\r\n\t\t\tTouchStart: function(e) {\r\n\t\t\t\tthis.TouchStartX = e.changedTouches[0].clientX;\r\n\t\t\t},\r\n\t\t\t//获取手指滑动页面的终点\r\n\t\t\tTouchEnd: function(e) {\r\n\t\t\t\tlet TouchEndX = e.changedTouches[0].clientX;\r\n\t\t\t\tif (this.TouchStartX - TouchEndX >= this.SlidingValue && this.TabSelectedIndex < 2) {\r\n\t\t\t\t\tthis.SlidingPage(true);\r\n\t\t\t\t}\r\n\t\t\t\tif (TouchEndX - this.TouchStartX >= this.SlidingValue && this.TabSelectedIndex > 0) {\r\n\t\t\t\t\tthis.SlidingPage(false);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取手指滑动的起点\r\n\t\t\tItemTouchStart: function(e) {\r\n\t\t\t\tthis.ItemTouchStartDate = new Date();\r\n\t\t\t\tthis.ItemTouchStartX = e.changedTouches[0].clientX;\r\n\t\t\t},\r\n\t\t\t//获取手指滑动的终点\r\n\t\t\tItemTouchEnd: function(e) {\r\n\t\t\t\tlet me = this;\r\n\t\t\t\tlet ItemTouchEndDate = new Date();\r\n\t\t\t\tlet ItemTouchEndX = e.changedTouches[0].clientX;\r\n\t\t\t\tlet LongPressTime = CalDateDiff(ItemTouchEndDate, me.ItemTouchStartDate);\r\n\t\t\t\tif (LongPressTime >= me.LongPressTime && me.ItemTouchStartX == ItemTouchEndX) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '是否需要删除单据编号为' + me.ProreportItem.FBillNo + '的汇报单？',\r\n\t\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\t\tif (result.confirm) {\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tModuleCode: 'ICMORpt2_9',\r\n\t\t\t\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\t\t\t\tFId: me.ProreportItem.FId,\r\n\t\t\t\t\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tsuccess: (resdelete) => {\r\n\t\t\t\t\t\t\t\t\t\tlet ResultCode = resdelete.data.ResultCode;\r\n\t\t\t\t\t\t\t\t\t\tlet ResultMsg = resdelete.data.ResultMsg;\r\n\t\t\t\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlet DataParam = resdelete.data.ResultData.ICMORpt2_9\r\n\t\t\t\t\t\t\t\t\t\t\t.dataparam;\r\n\t\t\t\t\t\t\t\t\t\tResultCode = DataParam.Result;\r\n\t\t\t\t\t\t\t\t\t\tif (ResultCode == 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tModuleCode: 'getPdaICMORptList',\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\t\t\t\t\t\tPageIndex: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tPageSize: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\tPageRefresh: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tFBillNo: this.SearchValue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet ResultCode = res.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.ResultCode;\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet ResultMsg = res.data.ResultMsg;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (ResultCode == 'FAIL' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.SummaryListData = res.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.ResultData.PdaICMORptListInfo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.data0;\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t            complete: (resultcomp) => {\r\n\t\t\t\t\t\t\t        let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t\t        if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t\t        Config.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t        Config.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//记录选中的单据编号\r\n\t\t\tItemLongPress: function(item) {\r\n\t\t\t\tthis.ProreportItem = item;\r\n\t\t\t},\r\n\t\t\t//切换外箱标签是否选中\r\n\t\t\tChangeIsChecked: function(item) {\r\n\t\t\t\titem.FIsChecked = !item.FIsChecked;\r\n\t\t\t},\r\n\t\t\t//切换页签\r\n\t\t\tSwitchTab: function(Index) {\r\n\t\t\t\tthis.TabSelectedIndex = Index;\r\n\t\t\t\tif (this.TabSelectedIndex == 0) {\r\n\t\t\t\t\tthis.ShowProReportSum();\r\n\t\t\t\t} else if (this.TabSelectedIndex == 1) {\r\n\t\t\t\t\tthis.ShowProReportInfo()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(this.IsMotorDepartment){\r\n\t\t\t\t\t\t//this.GetProReportInfoExpandByFillQty(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.GetProReportInfoExpand(null);\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//滑动页面\r\n\t\t\tSlidingPage: function(IsSlidingLeftPage) {\r\n\t\t\t\tif (IsSlidingLeftPage) {\r\n\t\t\t\t\tthis.TabSelectedIndex++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.TabSelectedIndex--;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.TabSelectedIndex == 0) {\r\n\t\t\t\t\tthis.ShowProReportSum();\r\n\t\t\t\t} else if (this.TabSelectedIndex == 1) {\r\n\t\t\t\t\tthis.ShowProReportInfo()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.GetProReportInfoExpand(null);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//设置请求标志\r\n\t\t\tSetRequestingFlag: function(IsRequesting) {\r\n\t\t\t\tthis.IsRequesting = IsRequesting;\r\n\t\t\t},\r\n\t\t\t//打开数量弹窗\r\n\t\t\tOpenQtyPopupWindow: function() {\t\t\t\t\r\n\t\t\t\tthis.IsOpenDigitKeyboard = true;\r\n\t\t\t},\r\n\t\t\tCloseQtyPopupWindowDirect: function(e) {\r\n\t\t\t\tthis.IsOpenDigitKeyboard = false;\r\n\t\t\t},\r\n\t\t\t//关闭数量弹窗\r\n\t\t\tCloseQtyPopupWindow: function(e) {\r\n\t\t\t\tif (e == null || e == '' || e == 0) {\r\n\t\t\t\t\tConfig.ShowMessage('请填写要修改的散件数量！');\r\n\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tthis.IsOpenDigitKeyboard = false;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tModuleCode: 'addPdaICMORptByHand',\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\tFId: this.ProReportInterId,\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tFBillerID: uni.getStorageSync('FUserId'),\t\t\t\r\n\t\t\t\t\t\t\tFICItemByHand: this.ProreportInfoItem.FItemId,\r\n\t\t\t\t\t\t\tFQtyByHand: e,\r\n\t\t\t\t\t\t\tFShouldSendQty: this.ProreportInfoItem.FICMOQty,\r\n\t\t\t\t\t\t\tFRealSendQty: this.ProreportInfoItem.FSumQty,\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t//console.log(result.data);\r\n\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet ResultData = result.data.ResultData.AddPdaICMORptByHand;\r\n\t\t\t\t\t\tlet Result = ResultData.dataparam.Result;\r\n\t\t\t\t\t\tif (Result == 0) {\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultData.dataparam.Msg);\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tConfig.ShowMessage(ResultData.dataparam.Msg);\r\n\t\t\t\t\t\tConfig.PopAudioContext(true);\r\n\t\t\t\t\t\tthis.GetProReportByScan();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t\tlet ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//根据系统参数键获取对应的值\r\n\t\t\tGetGblSettingBySignalKey: function(){\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tModuleCode: 'GetGblSettingBySignalKey',\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\t\t\t\t\t\t\r\n\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\tFSignalKey: 'DepartByProFillQty'\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\t\t\t\r\n\t\t\t\t\t\tlet FValue = result.data.ResultData.GetGblSettingBySignalKey.data0.FValue;\r\n\t\t\t\t\t\tthis.IsMotorDepartment = (this.UserDepartment.indexOf(FValue) != -1 ? true : false);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t    let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t    if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t    Config.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    }\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//根据用户内码查询部门信息\r\n\t\t\tGetDepartmentByUserId: function(){\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tModuleCode: 'getDepartmentByUserId',\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\t\t\t\t\t\t\r\n\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\tFUserId: uni.getStorageSync('FUserId')\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.UserDepartment = result.data.ResultData.GetDepartmentByUserId.data0.FName;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t    let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t    if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t    Config.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    }\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//显示生产汇报汇总\r\n\t\t\tShowProReportSum: function() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: 'Loading',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tModuleCode: 'getPdaICMORptList',\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\tPageIndex: 0,\r\n\t\t\t\t\t\tPageRefresh: 0,\r\n\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\tFBillNo: this.SearchValue,\r\n\t\t\t\t\t\t\tFBillerID: uni.getStorageSync('FUserId'),\r\n\t\t\t\t\t\t\tFStatus: this.SelectStatus == '全部' ? '0,1' : (this.SelectStatus == '已审核' ? '1' :\r\n\t\t\t\t\t\t\t\t'0')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (result) => {\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.SummaryListData = result.data.ResultData.PdaICMORptListInfo.data0;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t    let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t    if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t    Config.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\t\t\t\r\n\t\t\t//扫描条码\r\n\t\t\tScanBarCode: function(Barcode) {\r\n\t\t\t\tif (this.ProReportBillNo == '空') {\r\n\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\tConfig.ShowMessage('请新增汇报单！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.SelectWorkShopArray[0] == 0) {\r\n\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\tConfig.ShowMessage('请填写车间！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.SelectTeamArray[0] == 0) {\r\n\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\tConfig.ShowMessage('请填写班组！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.IsRequesting) {\r\n\t\t\t\t\tthis.SetRequestingFlag(true);\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'Loading',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tModuleCode: 'addPdaICMORpt',\r\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\tFId: this.ProReportInterId,\r\n\t\t\t\t\t\t\t\tFBillNo: this.ProReportBillNo,\r\n\t\t\t\t\t\t\t\tFDeptId: this.SelectWorkShopArray[0],\r\n\t\t\t\t\t\t\t\tFTeamId: this.SelectTeamArray[0],\r\n\t\t\t\t\t\t\t\tFDate: this.FinishDate,\r\n\t\t\t\t\t\t\t\tFBillerID: uni.getStorageSync('FUserId'),\r\n\t\t\t\t\t\t\t\tFPackBarCode: Barcode,\r\n\t\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t\t//console.log(result.data);\r\n\t\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet ResultData = result.data.ResultData.AddPdaICMORpt;\r\n\t\t\t\t\t\t\tlet Result = ResultData.dataparam.Result;\r\n\t\t\t\t\t\t\tif (Result == 0) {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(ResultData.dataparam.Msg);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(true);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultData.dataparam.Msg);\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\tthis.GetProReportByScan();\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t\t\tlet ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//新增生产汇报单\r\n\t\t\tAddProReport: function() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tModuleCode: 'getPdaICMORptMaxId',\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\tFId: 0,\r\n\t\t\t\t\t\t\tFBillNo: '',\r\n\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet DataModel = result.data.ResultData.PdaICMORpt.dataparam;\r\n\t\t\t\t\t\tthis.ProReportInterId = DataModel.FId;\r\n\t\t\t\t\t\tthis.ProReportBillNo = DataModel.FBillNo;\r\n\t\t\t\t\t\tthis.ProReportSrcInterId = 0\r\n\t\t\t\t\t\tthis.SelectWorkShopArray = [0, '请选择车间'];\r\n\t\t\t\t\t\tthis.SelectTeamArray = [0, '请选择班组'];\r\n\t\t\t\t\t\tthis.FinishDate = DateFormat({\r\n\t\t\t\t\t\t\tformat: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.InfoListData = [];\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t\tlet ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//审核生产汇报单\r\n\t\t\tAuditProReport() {\r\n\t\t\t\tif (this.SelectWorkShopArray[0] == 0) {\r\n\t\t\t\t\tConfig.ShowMessage('请填写车间！');\r\n\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.SelectTeamArray[0] == 0) {\r\n\t\t\t\t\tConfig.ShowMessage('请填写班组！');\r\n\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.InfoListData.length == 0) {\r\n\t\t\t\t\tConfig.ShowMessage('汇报单无扫描数据！');\r\n\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(let i = 0; i < this.InfoListData.length; i++){\r\n\t\t\t\t\tlet DataModel = this.InfoListData[i];\t\t\t\t\t\r\n\t\t\t\t\tif(DataModel.FSumQty > DataModel.FICMOQty){\r\n\t\t\t\t\t   Config.ShowMessage('物料编码为' + DataModel.FNumber + '扫描数量大于订单数量，请检查！');\r\n\t\t\t\t\t   Config.PopAudioContext(false);\r\n\t\t\t\t\t   return;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.IsRequesting) {\r\n\t\t\t\t\tthis.SetRequestingFlag(true);\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'Loading',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tModuleCode: 'pdaICMORptToICMORpt',\r\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\tFId: this.ProReportInterId,\r\n\t\t\t\t\t\t\t\tFBillNo: this.ProReportBillNo,\r\n\t\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t\t//console.log(result.data);\r\n\t\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet DataParam = result.data.ResultData.PdaICMORptToICMORpt.dataparam;\r\n\t\t\t\t\t\t\tlet Result = DataParam.Result;\r\n\t\t\t\t\t\t\tif (Result == 0) {\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(true);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (resultcomp) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//反审核生产汇报单\r\n\t\t\tUnAuditProReport: function() {\r\n\t\t\t\tif (this.ProReportBillNo == '空' || this.SelectWorkShopArray[0] == 0 || this.SelectTeamArray[0] == 0) {\r\n\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\tConfig.ShowMessage('请选择需要反审核的汇报单！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!this.IsRequesting) {\r\n\t\t\t\t\tthis.SetRequestingFlag(true);\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'Loading',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tModuleCode: 'unPdaICMORptToICMORpt',\r\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\tFId: this.ProReportInterId,\r\n\t\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet DataParam = result.data.ResultData.unPdaICMORptToICMORpt.dataparam;\r\n\t\t\t\t\t\t\tlet Result = DataParam.Result;\r\n\t\t\t\t\t\t\tif (Result == 0) {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(true);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t\t\tlet ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//切换表头是否可见\r\n\t\t\tSwitchBillHeadVisible: function() {\r\n\t\t\t\tthis.IsBillHeadVisible = !this.IsBillHeadVisible;\r\n\t\t\t},\r\n\t\t\t//清除单据头数据\r\n\t\t\tClearBillHeadData: function(me) {\r\n\t\t\t\tme.ProReportInterId = 0;\r\n\t\t\t\tme.ProReportBillNo = '空';\r\n\t\t\t\tme.ProReportSrcInterId = 0;\t\t\t\t\r\n\t\t\t\tme.SelectWorkShopArray = [0, '请选择车间'];\r\n\t\t\t\tme.SelectTeamArray = [0, '请选择班组'];\r\n\t\t\t\tme.FinishDate = DateFormat({\r\n\t\t\t\t\tformat: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//删除汇报单\r\n\t\t\tDeleteProreportBill: function() {\r\n\t\t\t\tif (this.ProReportBillNo == '空') {\r\n\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\tConfig.ShowMessage('请选择要删除的汇报单！');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet me = this;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否需要删除单据编号为' + me.ProReportBillNo + '的汇报单？',\r\n\t\t\t\t\tsuccess: function(result) {\r\n\t\t\t\t\t\tif (result.confirm) {\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tModuleCode: 'ICMORpt2_9',\r\n\t\t\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\t\t\tFId: me.ProReportInterId,\r\n\t\t\t\t\t\t\t\t\t\tResult: 0,\r\n\t\t\t\t\t\t\t\t\t\tMsg: ''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: (resdelete) => {\r\n\t\t\t\t\t\t\t\t\tlet ResultCode = resdelete.data.ResultCode;\r\n\t\t\t\t\t\t\t\t\tlet ResultMsg = resdelete.data.ResultMsg;\r\n\t\t\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlet DataParam = resdelete.data.ResultData.ICMORpt2_9\r\n\t\t\t\t\t\t\t\t\t\t.dataparam;\r\n\t\t\t\t\t\t\t\t\tResultCode = DataParam.Result;\r\n\t\t\t\t\t\t\t\t\tif (ResultCode == 0) {\r\n\t\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tme.ClearBillHeadData(me);\r\n\t\t\t\t\t\t\t\t\tif(me.IsMotorDepartment){\r\n\t\t\t\t\t\t\t\t\t\tme.GetProReportInfoExpandByFillQty(null);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\t\t\tme.GetProReportInfoExpand(null);\r\n\t\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(true);\r\n\t\t\t\t\t\t\t\t\tConfig.ShowMessage(DataParam.Msg);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t            complete: (resultcomp) => {\r\n\t\t\t\t\t\t        let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t        if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t        Config.PopAudioContext(false);\r\n\t\t\t\t\t\t\t        Config.ShowMessage(ResultMsg);\t\t\t\t\t\t\t       \t\t\t\t\t\t        \r\n\t\t\t\t\t\t        }\r\n\t\t\t\t\t        }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//扫码汇报成功后获取最新汇报单信息\r\n\t\t\tGetProReportByScan: function() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tModuleCode: 'getPdaICMORptSumInfo',\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\tFId: this.ProReportInterId\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.InfoListData = result.data.ResultData.PdaICMORptSumInfo.data0;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t    let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t    if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//根据列表选中的汇报单获取最新汇报单信息\r\n\t\t\tGetProReportByList: function(item) {\r\n\t\t\t\tif (!this.IsRequesting) {\r\n\t\t\t\t\tthis.SetRequestingFlag(true);\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'Loading',\r\n\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t});\t\t\t\t\t\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tModuleCode: 'getPdaICMORptSumInfo',\r\n\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\tFId: item.FId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t\t//console.log(result.data);\r\n\t\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\tthis.InfoListData = result.data.ResultData.PdaICMORptSumInfo.data0;\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t\t    let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t    if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\t\t\t\t\t\r\n\t\t\t\t\tthis.TabSelectedIndex = 1;\r\n\t\t\t\t\tthis.ProReportInterId = item.FId;\r\n\t\t\t\t\tthis.ProReportBillNo = item.FBillNo;\r\n\t\t\t\t\tthis.SelectWorkShopArray = [item.FDeptId, item.FDeptName];\r\n\t\t\t\t\tthis.SelectTeamArray = [item.FTeamId, item.FTeamName];\r\n\t\t\t\t\tthis.FinishDate = item.FDate;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//显示生产汇报单信息\r\n\t\t\tShowProReportInfo: function() {\r\n\t\t\t\tif (this.ProReportInterId != 0) {\r\n\t\t\t\t\tif (!this.IsRequesting) {\r\n\t\t\t\t\t\tthis.SetRequestingFlag(true);\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: 'Loading',\r\n\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: uni.getStorageSync('OtherUrl'),\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tModuleCode: 'getPdaICMORptSumInfo',\r\n\t\t\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\t\tModuleParam: {\r\n\t\t\t\t\t\t\t\t\tFId: this.ProReportInterId\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\t\t\t\tlet ResultCode = result.data.ResultCode;\r\n\t\t\t\t\t\t\t\tlet ResultMsg = result.data.ResultMsg;\r\n\t\t\t\t\t\t\t\tif (ResultCode == 'FAIL' && ResultMsg == '不存在的Token') {\r\n\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\tConfig.ShowMessage('账号登录异常，请重新登录！');\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t\tthis.InfoListData = result.data.ResultData.PdaICMORptSumInfo.data0;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\tConfig.ShowMessage('请求数据失败！');\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcomplete: (resultcomp) => {\r\n\t\t\t\t\t\t\t    let ResultMsg = resultcomp.data.ResultMsg;\r\n\t\t\t\t\t\t\t    if (ResultMsg != 'undefined' && ResultMsg.indexOf('执行成功') == -1) {\r\n\t\t\t\t\t\t\t\t\tConfig.PopAudioContext(false);\r\n\t\t\t\t\t\t\t\t\tConfig.ShowMessage(ResultMsg);\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tthis.SetRequestingFlag(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//根据汇报单信息获取明细\r\n\t\t\tGetProReportDetail: function() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: 'Loading'\r\n\t\t\t\t});\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/proreport/cartonlabeldetail?ProReportInterId=' + this.ProReportInterId +\r\n\t\t\t\t\t\t'&ProReportSrcInterId=' + this.ProReportSrcInterId\r\n\t\t\t\t});\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t},\r\n\t\t\t//根据汇报单信息获取扩展信息\r\n\t\t\tGetProReportInfoExpandByFillQty: function(item) {\r\n\t\t\t\tif (item != null) {\t\t\t\t\t\r\n\t\t\t\t\tthis.ProreportInfoItem = item;\r\n\t\t\t\t\tthis.ProReportSrcInterId = item.FSrcInterId;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.ProreportInfoItem = null;\r\n\t\t\t\t}\r\n\t\t\t},\t\t\t\r\n\t\t\t//根据汇报单信息获取扩展信息\r\n\t\t\tGetProReportInfoExpand: function(item) {\r\n\t\t\t\tif (item != null) {\t\t\t\t\t\r\n\t\t\t\t\tthis.TabSelectedIndex = 2;\r\n\t\t\t\t\tthis.ProreportInfoItem = item;\r\n\t\t\t\t\tthis.ProReportSrcInterId = item.FSrcInterId;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.ProreportInfoItem = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//选择完工日期\r\n\t\t\tFinishDateChange(e) {\r\n\t\t\t\tthis.FinishDate = e.detail.value\r\n\t\t\t},\r\n\t\t\t//条件搜索汇报单列表\r\n\t\t\tValueChanged: function() {\r\n\t\t\t\tthis.ShowProReportSum();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t//获取选中的日期格式化\r\n\tfunction DateFormat(type) {\r\n\t\tconst CurrentDate = new Date();\r\n\t\tlet Year = CurrentDate.getFullYear();\r\n\t\tlet Month = CurrentDate.getMonth() + 1;\r\n\t\tlet Day = CurrentDate.getDate();\r\n\t\tlet Hour = CurrentDate.getHours();\r\n\t\tlet Minute = CurrentDate.getMinutes();\r\n\t\tlet Second = CurrentDate.getSeconds();\r\n\r\n\t\tif (type === 'start') {\r\n\t\t\tYear = Year - 60;\r\n\t\t} else if (type === 'end') {\r\n\t\t\tYear = Year + 2;\r\n\t\t}\r\n\t\tMonth = Month > 9 ? Month : '0' + Month;;\r\n\t\tDay = Day > 9 ? Day : '0' + Day;\r\n\t\tif (type != '') {\r\n\t\t\treturn `${Year}-${Month}-${Day}`;\r\n\t\t}\r\n\t\treturn `${Year}-${Month}-${Day} ${Hour}:${Minute}:${Second}`;\r\n\t}\r\n\t//计算两个时间的时间差\r\n\tfunction CalDateDiff(StartDate, EndDate) {\r\n\t\tvar DateDiff = StartDate.getTime() - EndDate.getTime(); //时间差的毫秒数\r\n\t\tvar Leave1 = DateDiff % (24 * 3600 * 1000) //计算天数后剩余的毫秒数\r\n\t\tvar Hour = Math.floor(Leave1 / (3600 * 1000)) //计算出小时数\t\r\n\t\tvar Leave2 = Leave1 % (3600 * 1000) //计算小时数后剩余的毫秒数\r\n\t\tvar Minutes = Math.floor(Leave2 / (60 * 1000)) //计算相差分钟数\r\n\t\tvar Leave3 = Leave2 % (60 * 1000) //计算分钟数后剩余的毫秒数\r\n\t\tvar Seconds = Math.round(Leave3 / 1000) //计算相差秒数\r\n\t\treturn Seconds;\r\n\t}\r\n</script>\r\n\r\n<style>\t\r\n\t.addproreport {\r\n\t\twidth: 20%;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #007AFF;\r\n\t\tborder-radius: 50upx;\r\n\t\tmargin-left: 23upx;\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\r\n\t.deletebill {\r\n\t\twidth: 20%;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #007AFF;\r\n\t\tborder-radius: 50upx;\r\n\t\tmargin-left: 206upx;\r\n\t\tmargin-top: -96upx;\r\n\t}\r\n\r\n\t.auditproreport {\r\n\t\twidth: 20%;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #007AFF;\r\n\t\tborder-radius: 50upx;\r\n\t\tmargin-left: 389upx;\r\n\t\tmargin-top: -96upx;\r\n\t}\r\n\r\n\t.unauditproreport {\r\n\t\twidth: 20%;\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground-color: #007AFF;\r\n\t\tborder-radius: 50upx;\r\n\t\tmargin-left: 572upx;\r\n\t\tmargin-top: -96upx;\r\n\t}\r\n\r\n\t.billhead {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 50upx;\r\n\t}\r\n\r\n\t.title {\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 50upx;\r\n\t\tfont-size: 40upx;\r\n\t}\r\n\r\n\t.billnoempty {\r\n\t\tdisplay: flex;\r\n\t\twidth: 200upx;\r\n\t\tfont-size: 40upx;\r\n\t\tmargin-top: -60upx;\r\n\t\tmargin-left: 300upx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #777777;\r\n\t}\r\n\r\n\t.billnofull {\r\n\t\tdisplay: flex;\r\n\t\twidth: 200upx;\r\n\t\tfont-size: 40upx;\r\n\t\tmargin-top: -60upx;\r\n\t\tmargin-left: 300upx;\r\n\t\ttext-align: center;\r\n\t\tcolor: #000000;\r\n\t}\r\n\r\n\t.detailtitle {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 35upx;\r\n\t\tmargin-top: 30upx;\r\n\t\tmargin-left: 30upx;\r\n\t}\r\n\r\n\t.detaildata {\r\n\t\tdisplay: flex;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 35upx;\r\n\t\tmargin-top: -50upx;\r\n\t\tmargin-left: 270upx;\r\n\t}\r\n\r\n\t.data {\r\n\t\tdisplay: flex;\r\n\t\twidth: 250upx;\r\n\t\tfont-size: 40upx;\r\n\t\tmargin-top: -60upx;\r\n\t\tmargin-left: 370upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.dataline {\r\n\t\twidth: 60%;\r\n\t\theight: 5upx;\r\n\t\tbackground-color: #4CD964;\r\n\t\tmargin-left: 250upx;\r\n\t}\r\n\r\n\t.proreportview {\r\n\t\twidth: 100%;\r\n\t\theight: 950upx;\r\n\t}\r\n\r\n\t.sumscrollview {\r\n\t\twidth: 100%;\r\n\t\theight: 950upx;\r\n\t}\r\n\r\n\t.unselectinfoscrollview {\r\n\t\twidth: 100%;\r\n\t\theight: 550upx;\r\n\t\tmargin-top: 50upx;\r\n\t}\r\n\r\n\t.selectinfoscrollview {\r\n\t\twidth: 100%;\r\n\t\theight: 850upx;\r\n\t\tmargin-top: 50upx;\r\n\t}\r\n\r\n\t.detailscrollview {\r\n\t\twidth: 100%;\r\n\t\theight: 950upx;\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\r\n\t.selecttab {\r\n\t\tcolor: #007AFF;\r\n\t}\r\n\r\n\t.selecttabline {\r\n\t\tbackground-color: #007AFF;\r\n\t}\r\n\r\n\t.tabbackground {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100upx;\r\n\t\tmargin-top: 660upx;\r\n\t\tbackground-color: #F4F4F4;\r\n\t}\r\n\r\n\t.tableft {\r\n\t\tposition: absolute;\r\n\t\tfont-size: 45upx;\r\n\t\tmargin-top: 20upx;\r\n\t\tmargin-left: 40upx;\r\n\t}\r\n\r\n\t.tabmiddle {\r\n\t\tposition: absolute;\r\n\t\tfont-size: 45upx;\r\n\t\tmargin-top: 20upx;\r\n\t\tmargin-left: 330upx;\r\n\t}\r\n\r\n\t.tabright {\r\n\t\tposition: absolute;\r\n\t\tfont-size: 45upx;\r\n\t\tmargin-top: 20upx;\r\n\t\tmargin-left: 630upx;\r\n\t}\r\n\r\n\t.tableftline {\r\n\t\tposition: absolute;\r\n\t\twidth: 15%;\r\n\t\theight: 5upx;\r\n\t\tmargin-top: 80upx;\r\n\t\tmargin-left: 30upx;\r\n\t}\r\n\r\n\t.tabmiddleline {\r\n\t\tposition: absolute;\r\n\t\twidth: 15%;\r\n\t\theight: 5upx;\r\n\t\tmargin-top: 80upx;\r\n\t\tmargin-left: 320upx;\r\n\t}\r\n\r\n\t.tabrightline {\r\n\t\tposition: absolute;\r\n\t\twidth: 15%;\r\n\t\theight: 5upx;\r\n\t\tmargin-top: 80upx;\r\n\t\tmargin-left: 620upx;\r\n\t}\r\n\r\n\t.search {\r\n\t\tposition: absolute;\r\n\t\twidth: 70%;\r\n\t\tmargin-left: 5upx;\r\n\t}\r\n\r\n\t.billstatus {\r\n\t\tposition: absolute;\r\n\t\tmargin-top: -90upx;\r\n\t\tmargin-left: 570upx;\r\n\t}\r\n\r\n\t.scanned {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 40upx;\r\n\t\tmargin-left: 30upx;\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\r\n\t.queryall {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 40upx;\r\n\t\tcolor: #007AFF;\r\n\t\tmargin-left: 570upx;\r\n\t\tmargin-top: -60upx;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./proreport.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./proreport.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1635477889612\n      var cssReload = require(\"D:/开发插件/HBuilderX.3.1.13.20210514.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}